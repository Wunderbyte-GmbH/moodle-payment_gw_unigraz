{"version":3,"file":"redirectpayment.min.js","sources":["../src/redirectpayment.js"],"sourcesContent":["import Ajax from 'core/ajax';\n\nconst SELECTORS = {\n    PAYMENTOPTIONSBUTTONS: '[data-action=\"paymentoption\"]',\n};\n\nexport const init = () => {\n\n    const buttons = document.querySelectorAll(SELECTORS.PAYMENTOPTIONSBUTTONS);\n\n    // eslint-disable-next-line no-console\n    console.log(buttons);\n\n    buttons.forEach(button => {\n\n        if (button.initialized) {\n            return;\n        }\n        button.initialized = true;\n\n        const component = button.dataset.component;\n        const paymentarea = button.dataset.paymentarea;\n        const itemid = button.dataset.itemid;\n        const cartid = button.dataset.cartid;\n        const providerid = button.dataset.index;\n\n        button.addEventListener('click', e => {\n            // eslint-disable-next-line no-console\n            console.log(e, component, paymentarea, itemid, cartid, providerid);\n\n            callRedirect(component, paymentarea, itemid, cartid, providerid);\n        });\n\n    });\n};\n\n/**\n * Redirect function.\n * @param {*} component\n * @param {*} paymentarea\n * @param {*} itemid\n * @param {*} cartid\n * @param {integer} providerid\n */\nfunction callRedirect(component, paymentarea, itemid, cartid, providerid) {\n\n    // eslint-disable-next-line no-console\n    console.log('redirectpayment', component,\n        paymentarea,\n        itemid, cartid, providerid);\n\n    Ajax.call([{\n        methodname: \"paygw_unigraz_redirectpayment\",\n        args: {\n            component,\n            paymentarea,\n            itemid,\n            cartid,\n            providerid\n        },\n        done: function (data) {\n            location.href = data.url;\n        }\n    }]);\n\n}"],"names":["SELECTORS","buttons","document","querySelectorAll","console","log","forEach","button","initialized","component","dataset","paymentarea","itemid","cartid","providerid","index","addEventListener","e","call","methodname","args","done","data","location","href","url","callRedirect"],"mappings":"wOAEMA,gCACqB,8CAGP,WAEVC,QAAUC,SAASC,iBAAiBH,iCAG1CI,QAAQC,IAAIJ,SAEZA,QAAQK,SAAQC,YAERA,OAAOC,mBAGXD,OAAOC,aAAc,QAEfC,UAAYF,OAAOG,QAAQD,UAC3BE,YAAcJ,OAAOG,QAAQC,YAC7BC,OAASL,OAAOG,QAAQE,OACxBC,OAASN,OAAOG,QAAQG,OACxBC,WAAaP,OAAOG,QAAQK,MAElCR,OAAOS,iBAAiB,SAASC,IAE7Bb,QAAQC,IAAIY,EAAGR,UAAWE,YAAaC,OAAQC,OAAQC,qBAgB7CL,UAAWE,YAAaC,OAAQC,OAAQC,YAG1DV,QAAQC,IAAI,kBAAmBI,UAC3BE,YACAC,OAAQC,OAAQC,0BAEfI,KAAK,CAAC,CACPC,WAAY,gCACZC,KAAM,CACFX,UAAAA,UACAE,YAAAA,YACAC,OAAAA,OACAC,OAAAA,OACAC,WAAAA,YAEJO,KAAM,SAAUC,MACZC,SAASC,KAAOF,KAAKG,QA/BrBC,CAAajB,UAAWE,YAAaC,OAAQC,OAAQC"}